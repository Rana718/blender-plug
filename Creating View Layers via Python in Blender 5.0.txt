Creating View Layers via Python in Blender 5.0
Blender 5.0 supports multiple View Layers (formerly “Render Layers”) which control which objects are visible
in
a
render.
In
Python,
you
can
create
and
configure
view
layers
using
the
bpy.context.scene.view_layers API. For example:
• Add a new (empty) view layer:
# Create a new view layer named "CubeOnly" if it doesn't exist
scene = bpy.context.scene
if "CubeOnly" not in scene.view_layers:
scene.view_layers.new("CubeOnly")
This creates a blank view layer (with all collections initially disabled)
• Using an operator: Alternatively, you can use the scene operator:
bpy.ops.scene.view_layer_add(type='EMPTY')
bpy.context.view_layer.name = "CubeOnly"

1

.

# adds a new blank view layer

Note that view_layer_add temporarily makes the new layer active, so you may want to store and
restore the previous active layer via prev = bpy.context.view_layer and
bpy.context.window.view_layer = prev after renaming

1

.

You can also copy or clear existing view layers using type='COPY' or 'EMPTY' in view_layer_add ,
but for full control it’s often easier to manipulate

scene.view_layers

directly. In short, use

scene.view_layers.new(name) to add a view layer and give it a unique name.

Controlling Which Objects Appear in Each View
Layer
In Blender 2.8+ all objects live in Collections, and each view layer has its own set of LayerCollection flags
controlling visibility. To show/hide objects per view layer, you typically group objects into collections and
toggle each collection’s exclude flag on the corresponding view layer 2 . For example:
• Group objects into collections: Put the cube in its own collection (e.g. CubeCol ) and the sphere in
another (e.g. SphereCol ). You can create and link collections in Python
( bpy.data.collections.new() and scene.collection.children.link(col) , then
col.objects.link(obj) ).

1

• Exclude collections from a view layer: Access the view layer’s layer_collection hierarchy and
set exclude=True on unwanted collections. For example, to include only CubeCol in view layer
cube_layer :
vc = scene.view_layers["CubeOnly"]
for lc in vc.layer_collection.children:
# Hide all collections except CubeCol
lc.exclude = (lc.collection.name != "CubeCol")
In other words, iterate view_layer.layer_collection.children and set
layer_collection.exclude = True for each collection you want to hide

2

. This ensures that

only the cube’s collection is rendered in the “CubeOnly” layer. Conversely, for the “WithoutCube”
layer, you would exclude CubeCol so that only the other collections (e.g. the sphere’s collection)
remain visible.
Tip: The exclude flag in the LayerCollection (not the Collection itself) controls render
visibility in that view layer. As noted by Robert Gützkow, “in order to exclude a specific
collection the LayerCollection has to be accessed, because that is where the exclude
property is stored”

2

. Iterating over view_layer.layer_collection.children lets

you toggle visibility per collection.

Compositing Multiple View Layers
Once you have two view layers (e.g. “CubeOnly” and “WithoutCube”), you can render them together in the
compositor. Blender’s Render Layers (View Layers) node reads the image of a specific view layer into the
compositing tree 3 . To combine the layers:
• Enable compositing and add Render Layers nodes: In the Compositor, enable Use Nodes, then add
two Render Layers nodes (one per view layer). In each node’s properties, choose the scene and the
desired view layer name (e.g. “CubeOnly” for the cube node, “WithoutCube” for the sphere node).
The Render Layers node has no inputs and outputs the rendered Image, Alpha, Z, etc., for that view
layer 3 .
Figure: A Render Layers node in the compositor. Choose the scene and view layer (“View Layer” dropdown) to
get that layer’s rendered image into the node tree 3 .
3

• Apply pixelation: To pixelate the cube layer, insert a Pixelate node (Blender 4.x/5.x) after the
“CubeOnly” Render Layers node. This filter will make the image blocky. (Alternatively, you could scale
down/up with nearest filtering.) No special settings are needed beyond connecting the cube image
through the Pixelate node.
• Combine layers: Finally, use an Alpha Over (or Mix) node to composite the pixelated cube layer on
top of the sphere layer. For example, connect the cube’s image output (after Pixelate) to the top
socket of an Alpha Over node, and the sphere’s image to the bottom socket. The resulting output will
show the cube pixelated and the sphere smooth behind it.

2

All of this works with any render engine (Cycles, Eevee, or EEVEE Next), since view layers and compositor
nodes are engine-independent. Just make sure each view layer is set to render with the correct engine and
that any necessary render passes (e.g. Alpha) are enabled. In summary:
• Create and name two view layers (e.g. “CubeOnly” and “WithoutCube”) via
scene.view_layers.new(...) 1 .
• Assign object visibility by collection, using layer_collection.exclude = True/False on
each view layer to isolate the cube from other objects

2

.

• In the compositor, use two Render Layers nodes, each set to one of the view layers
Pixelate node to the cube’s layer, then merge the images (with Alpha Over).

3

. Apply the

This achieves the goal: the cube is rendered on its own layer and pixelated, while the sphere is on a
separate layer, and both are finally composited into the final image.
Sources: Blender Python API and Manual (view layers, LayerCollection), and community examples
3 .

1

python - Create/Remove View Layer and give it names - Blender Stack Exchange

https://blender.stackexchange.com/questions/281784/create-remove-view-layer-and-give-it-names
2

Blender Python: Exclude Collections from View Layers - Blender Stack Exchange

https://blender.stackexchange.com/questions/160752/blender-python-exclude-collections-from-view-layers
3

渲染层节点 — Blender Manual

https://dochub-public-read.oss-cn-shenzhen.aliyuncs.com/blender/blender_manual-2.83/2.83/compositing/types/input/
render_layers.html

3

1

2

